# アカウント設定に関する資料です。

## accounts アプリケーションの作成
```bash
python manage.py startapp accounts
```

## プロジェクトフォルダの、settings.pyに追記
```python
#自分のアプリケーション
    "learning_logs",
    "accounts",
```

## プロジェクトフォルダの、urls.pyに追記
```python
path("accounts/", include("accounts.urls")),
```

## ログインページの実装
accountsフォルダにurls.pyを作成し、以下のように記述する
```python
from django.urls import path, include

app_name = "accounts"
urlpatterns = [
    #デフォルトの認証URLを取り込む
    path("", include("django.contrib.auth.urls")),
]
```

## accountsフォルダにtemplates/registration/login.htmlを作成
```html
{% extends 'learning_logs/base.html' %}

{% block content %}

  {% if form.errors %}
    <p>ユーザー名とパスワードが一致しません。もう一度お試しください。</p>
  {% endif %}

  <form action="{% url 'accounts:login' %}" method='post'>
    {% csrf_token %}
    {{ form.as_div }}

    <button name="submit">ログイン</button>
  </form>

{% endblock content %}
```

## ログイン成功後、どのURLに誘導するか
settings.pyの最後に記述
```python
#自分の設定
LOGIN_REDIRECT_URL = "learning_logs:index"
```